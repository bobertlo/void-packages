# Template file for 'aisleriot'
pkgname=aisleriot
version=3.22.7
revision=3
_pysol_cardsets=PySolFC-Cardsets
_pysol_ver=2.0
build_style=gnu-configure
configure_args="--with-pysol-card-theme-path=${XBPS_BUILDDIR}/${_pysol_cardsets}-${_pysol_ver}"
hostmakedepends="desktop-file-utils glib-devel guile intltool itstool pkg-config"
makedepends="GConf-devel gc-devel guile-devel libatomic_ops-devel libcanberra-devel librsvg-devel"
depends="aisleriot-data guile"
short_desc="GNOME solitaire card game"
maintainer="Jürgen Buchmüller <pullmoll@t-online.de>"
license="GPL-3.0-or-later"
homepage="https://wiki.gnome.org/Apps/Aisleriot"
distfiles="${GNOME_SITE}/${pkgname}/${version%.*}/${pkgname}-${version}.tar.xz
 http://distfiles.voidlinux.de/${_pysol_cardsets}-${_pysol_ver}/${_pysol_cardsets}-${_pysol_ver}.tar.bz2"
checksum="84d5c2d5d59628f32eaa79d212fbf219d0319345623dd6e17a5aff4db39554fb
 c388d6360191b3b7e463d84e5a64260c4e3ed36e791a85227d7e8923f3f47ca7"

post_install() {
	vmkdir usr/share/gconf/schemas
	mv ${DESTDIR}/etc/gconf/schemas/* ${DESTDIR}/usr/share/gconf/schemas
}

aisleriot-data_package() {
	short_desc+=" - data"
	noarch=yes
	pkg_install() {
		vmove usr/share
	}
}

nostrip_files=" backbone.go
bakers-game.go
saratoga.go
triple-peaks.go
valentine.go
napoleons-tomb.go
hamilton.go
scuffle.go
terrace.go
kansas.go
gold-mine.go
agnes.go
elevator.go
aunt-mary.go
forty-thieves.go
royal-east.go
klondike.go
osmosis.go
union-square.go
cruel.go
thieves.go
easthaven.go
sir-tommy.go
kings-audience.go
clock.go
odessa.go
peek.go
eight-off.go
gay-gordons.go
westhaven.go
camelot.go
gypsy.go
gaps.go
doublets.go
jumbo.go
quatorze.go
lady-jane.go
spiderette.go
accordion.go
thirteen.go
first-law.go
chessboard.go
canfield.go
labyrinth.go
spider-three-decks.go
yield.go
giant.go
fortunes.go
aisleriot
api.go
wall.go
beleaguered-castle.go
pileon.go
glenwood.go
diamond-mine.go
bear-river.go
escalator.go
seahaven.go
poker.go
auld-lang-syne.go
freecell.go
block-ten.go
jamestown.go
bakers-dozen.go
ten-across.go
hopscotch.go
eliminator.go
fortress.go
streets-and-alleys.go
thumb-and-pouch.go
neighbor.go
yukon.go
monte-carlo.go
eagle-wing.go
isabel.go
athena.go
fourteen.go
cover.go
zebra.go
straight-up.go
king-albert.go
helsinki.go
plait.go
golf.go
spider.go
carpet.go
maze.go
will-o-the-wisp.go
whitehead.go
treize.go
bristol.go
scorpion.go"
