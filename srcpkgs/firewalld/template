# Template file for 'firewalld'
pkgname=firewalld
version=1.0.2
revision=1
build_style=gnu-configure
hostmakedepends="autoconf pkg-config docbook-xsl xmlcatmgr intltool libxslt
 python3 docbook-xsl glib-devel"
depends="python3-gobject python3-dbus nftables ipset"
short_desc="Dynamically managed firewall with support for network zones"
maintainer="Robert Lowry <bobertlo@gmail.com>"
license="GPL-2.0-or-later"
homepage="https://firewalld.org/"
distfiles="https://github.com/firewalld/firewalld/releases/download/v${version}/firewalld-${version}.tar.gz"
checksum=42d95d9649526dd47e5835b4577230e8a33cbad4bfe9dae6b016bb1777b9c736
conf_files="/etc/firewalld/*"
# firewalld does not believe it is root in the chroot and fails
make_check=no

post_install() {
	mv ${DESTDIR}/etc/modprobe.d ${DESTDIR}/usr/lib
	rm -r ${DESTDIR}/etc/sysconfig
	vsv ${pkgname}
}
